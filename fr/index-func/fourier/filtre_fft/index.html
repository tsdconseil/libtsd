<!doctype html>
<html class="no-js">
  <head><link rel="stylesheet" href="../../..//highlight/styles/default.css">
    <script src="../../..//highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
<script src="../../../js/jquery-1.7.min.js" type="text/javascript"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script><meta charset="UTF-8"/>
      <title>filtre_fft</title>
<meta name="description" content="filtre_fft"/>
<!--[if lt IE 9]>
      <script src="../../../js/css3-mediaqueries.js"></script>
    <![endif]-->
    <link rel="stylesheet" media="all" href="../../../css/style.css"/>
    <link rel="stylesheet" media="all" href="../../../css/style_scilab_code.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
<script src="../../../js/custom.js"></script>
<script src="../../../js/tabs.js"></script><script src="../../../js/masonry.min.js" ></script>
<script src="../../../js/imagesloaded.js" ></script><link rel="stylesheet" href="../../../css/jquery.tweet.css" media="all"  /> 
<script src="../../../js/tweet/jquery.tweet.js" ></script>
<link rel="stylesheet" media="screen" href="../../../css/superfish.css" /> 
<script  src="../../../js/superfish-1.4.8/js/hoverIntent.js"></script>
<script  src="../../../js/superfish-1.4.8/js/superfish.js"></script>
<script  src="../../../js/superfish-1.4.8/js/supersubs.js"></script>
<script  src="../../../js/prettyPhoto/js/jquery.prettyPhoto.js"></script>
<link rel="stylesheet" href="../../../js/prettyPhoto/css/prettyPhoto.css"  media="screen" />
<link rel="stylesheet" href="../../../js/poshytip-1.1/src/tip-twitter/tip-twitter.css"  />
<link rel="stylesheet" href="../../../js/poshytip-1.1/src/tip-yellowsimple/tip-yellowsimple.css"  />
<script  src="../../../js/poshytip-1.1/src/jquery.poshytip.min.js"></script>
<link rel="stylesheet" href="../../../css/flexslider.css" >
<script src="../../../js/jquery.flexslider-min.js"></script>
<!--[if IE 6]>
    <link rel="stylesheet" href="../../../css/ie6-hacks.css" media="screen" />
    <script type="text/javascript" src="../../../js/DD_belatedPNG.js"></script>
      <script>
              /* EXAMPLE */
              DD_belatedPNG.fix('*');
          </script>
    <![endif]-->
<link rel="stylesheet" media="all" href="../../../css/lessgrid.css"/>
<script src="../../../js/modernizr.js"></script>
<link rel="alternate" hreflang="fr" href="http://www.tsdconseil.fr/index-func/fourier/filtre_fft/index.html"/>
<link rel="alternate" hreflang="en" href="http://www.tsdconseil.fr/index-func/fourier/filtre_fft/index-en.html"/>
<link rel="alternate" hreflang="de" href="http://www.tsdconseil.fr/index-func/fourier/filtre_fft/index-de.html"/>
</head>
  <body lang="fr">
    <!-- mobile-nav -->
    <div id="mobile-nav-holder">
      <div class="wrapper">
        <ul id="mobile-nav"><li><a href="../../../index/index.html">Libtsd<span class="subheader">&#160;</span></a></li>
<li class="current-menu-item"><a href="../../../index-func/index.html">Documentation<span class="subheader">&#160;</span></a><ul><li><a href="../../../index-func/tsd/index.html">Fonctions générales</a></li><li><a href="../../../index-func/vue/index.html">Visualisations</a></li><li><a href="../../../index-func/geometrie/index.html">Géométrie</a></li><li><a href="../../../index-func/ct/index.html">Signaux à temps continu</a></li><li><a href="../../../index-func/filtrage/index.html">Filtrage linéaire</a></li><li><a href="../../../index-func/fourier/index.html">Transformée de Fourier</a></li><li><a href="../../../index-func/temps-frequence/index.html">Représentations temps-fréquence</a></li><li><a href="../../../index-func/stats/index.html">Traitement du signal statistique</a></li><li><a href="../../../index-func/telecom/index.html">Télécommunications</a></li><li><a href="../../../index-func/apps/index.html">Applications</a></li></ul></li>
<li><a href="../../../tab-tutos/index.html">Exemples<span class="subheader">&#160;</span></a><ul><li><a href="../../../tab-tutos/ex-echan/index.html">Echantillonnage</a></li><li><a href="../../../tab-tutos/ex-filtrage/index.html">Filtrage linéaire</a></li><li><a href="../../../tab-tutos/ex-fourier/index.html">Transformée de Fourier</a></li><li><a href="../../../tab-tutos/ex-telecom/index.html">Télécommunications</a></li></ul></li>
<li><a href="../../../tab-install/index.html">Installation<span class="subheader">&#160;</span></a></li>
<li><a href="../../../tab-licence/index.html">Licence<span class="subheader">&#160;</span></a></li>
        </ul>
        <div id="nav-open"><a href="#">Menu</a></div>
      </div>
    </div>
    <!-- ENDS mobile-nav --><header><div class="wrapper">
      <a href="../../../index/index.html" id="logo"><table><tr><td><img  src="../../../img/logo.png" alt="TSD Conseil - Traitement du Signal Digital"/></td></tr><tr><td><p id="slogan">Traitement du signal en C++</p></td></tr></table></a>
      <nav>
        <ul id="nav" class="sf-menu"><li><a href="../../../index/index.html">Libtsd<span class="subheader">&#160;</span></a></li>
<li class="current-menu-item"><a href="../../../index-func/index.html">Documentation<span class="subheader">&#160;</span></a><ul><li><a href="../../../index-func/tsd/index.html">Fonctions générales</a></li><li><a href="../../../index-func/vue/index.html">Visualisations</a></li><li><a href="../../../index-func/geometrie/index.html">Géométrie</a></li><li><a href="../../../index-func/ct/index.html">Signaux à temps continu</a></li><li><a href="../../../index-func/filtrage/index.html">Filtrage linéaire</a></li><li><a href="../../../index-func/fourier/index.html">Transformée de Fourier</a></li><li><a href="../../../index-func/temps-frequence/index.html">Représentations temps-fréquence</a></li><li><a href="../../../index-func/stats/index.html">Traitement du signal statistique</a></li><li><a href="../../../index-func/telecom/index.html">Télécommunications</a></li><li><a href="../../../index-func/apps/index.html">Applications</a></li></ul></li>
<li><a href="../../../tab-tutos/index.html">Exemples<span class="subheader">&#160;</span></a><ul><li><a href="../../../tab-tutos/ex-echan/index.html">Echantillonnage</a></li><li><a href="../../../tab-tutos/ex-filtrage/index.html">Filtrage linéaire</a></li><li><a href="../../../tab-tutos/ex-fourier/index.html">Transformée de Fourier</a></li><li><a href="../../../tab-tutos/ex-telecom/index.html">Télécommunications</a></li></ul></li>
<li><a href="../../../tab-install/index.html">Installation<span class="subheader">&#160;</span></a></li>
<li><a href="../../../tab-licence/index.html">Licence<span class="subheader">&#160;</span></a></li>
          </ul>
        </nav>
        
        <div class="clearfix"></div>
        
      </div>
    </header>    <div id="main">
    <div id="content">
    <div id="masthead">
          <h1 class="head">filtre_fft</h1><span class="subhead"></span>
          <ul class="breadcrumbs"><li><a href="../../../index-func/index.html">Documentation</a></li><li> / <a href="../../../index-func/fourier/index.html">Transformée de Fourier</a></li><li> / filtre_fft</li></ul>
        </div>
<div id="page-content-full"><p>Création d'un filtre dans le domaine fréquentiel (technique OLA / OverLap-and-Add). </p><p>Espace de nom : <code>tsd::fourier</code><br/></p><h2><a name="3"></a>Prototype</h2><p><pre class="prototype">tuple&lt;sptr&lt;Filtre&lt;cfloat, cfloat, FiltreFFTConfig&gt;&gt;, entier&gt; <b>filtre_fft</b>(const FiltreFFTConfig &config)</pre></p><h2><a name="4"></a>Paramètres</h2><p><table class="formtable2"><tr><td>config</td><td>La structure de configuration (<a href="../../../index-func/fourier/FiltreFFTConfig/index.html">FiltreFFTConfig</a>) doit préciser la dimension \(N_e\) des blocs temporels, le nombre minimum de zéros à insérer avant chaque bloc et avant de passer dans le domaine fréquentiel, ainsi qu'une callback permettant à l'appelant de modifier le signal dans le domaine fréquentiel.</td></tr></table></p><h2><a name="5"></a>Retourne</h2><p>Un tuple de deux éléments :<ul><li>le filtre OLA,</li><li>un entier indiquant la dimension \(N\) des FFT (c'est-à-dire la dimension des vecteurs qui seront passés à la callback)</li></ul></p><h2><a name="6"></a>Description</h2><p>Pour différentes raisons, il peut être plus intéressant de filtrer dans le domaine fréquentiel que temporel, par exemple pour alléger la charge de calcul (les convolutions dans le domaine temporel deviennent de simples produits termes à termes en fréquentiel). Par filtrage fréquentiel, on entends le fait de pouvoir modifier terme par terme les composantes de la transformée de Fourier d'un signal, puis de pouvoir restituer un signal temporel.</p><p>Afin de travailler dans le domaine fréquentiel, les données sont regroupées par blocs de \(N_e\) échantillons, et pour chacun de ces blocs les opérations suivantes sont effectuées :</p><ul><li><b>Fenêtrage et recouvrement</b> (optionnel) : Afin de lisser les traitements d'un blocs à l'autre, une fenêtre d'apodisation peut être appliquée (par défaut, une fenêtre de Hann avec un recouvrement de 50 %, de manière à avoir une reconstruction parfaite).</li><li><b>Zéro-padding</b> : De manière à avoir pouvoir calculer efficacement les FFT, des zéros sont ajoutés afin d'avoir des blocs dont la dimension est une puissance de 2. Après zéro-padding, la dimension des blocs vaut \(N=2^k\geq N_e\).</li><li><b>Transformée de Fourier :</b> via une FFT.</li><li><b>Traitement dans le domaine fréquentiel</b> : à faire par l'utilisateur (callback passée en paramètre, voir ci-dessous).</li><li><b>Transformée de Fourier inverse : </b> via une FFT inverse.</li><li><b>Recomposition des blocs temporels</b> : par OLA (<i>OverLap-and-Add</i>).</li></ul><p><parblock><p><dl class="section note"><dd><b>Note<br/></b></dd><dd>Pour le problème plus spécifique du calcul efficace d'un filtre RIF (à partir de la FFT), utilisez plutôt filtre_rif_fft(), qui est est basée sur cette fonction, et qui plus simple à utiliser. </dd></dl><br/></p></parblock></p><p><h2>Exemple : Filtrage passe-bas</h2><p fr="Exemple : Filtrage passe-bas"><description lang="fr">Dans cet exemple, on filtre passe-bas un signal en mettant tout simplement à zéro la moitié des composantes fréquentielles. <p><pre><code class="C++"><highlight class="normal">  soit n = 8192;</highlight>
<highlight class="normal">  </highlight><highlight class="comment">// signal utile à f = 0.04 * fe Hz, et parasite à f=0.400 * fe Hz</highlight><highlight class="normal"></highlight>
<highlight class="normal">  soit x = (<a href="../../../index-func/tsd/tsd-gen/sigsin/index.html">sigsin</a>(0.004, n) + <a href="../../../index-func/tsd/tsd-gen/sigsin/index.html">sigsin</a>(0.4, n)).as&lt;cfloat&gt;();</highlight>
<highlight class="normal"></highlight>
<highlight class="normal"></highlight>
<highlight class="normal">  <a href="../../../index-func/fourier/FiltreFFTConfig/index.html">FiltreFFTConfig</a> config;</highlight>
<highlight class="normal">  </highlight><highlight class="comment">// Cette callback sera appelée à chaque itération de l'OLA</highlight><highlight class="normal"></highlight>
<highlight class="normal">  config.lien non trouvé : [structtsd_1_1fourier_1_1_filtre_f_f_t_config_1aaafe883d1d85de5c5d73b84151377740]traitement_freq = [&](<a href="../../../index-func/tsd/Veccf/../index.html">Veccf</a> &X)</highlight>
<highlight class="normal">  {</highlight>
<highlight class="normal">    assertion(X.rows() == 512);</highlight>
<highlight class="normal">    X.segment(128, 256).setZero();</highlight>
<highlight class="normal">  };</highlight>
<highlight class="normal">  config.lien non trouvé : [structtsd_1_1fourier_1_1_filtre_f_f_t_config_1a60a2f094be904de71dceaa73e55abe4a]dim_blocs_temporel   = 512;  </highlight><highlight class="comment">// Par bloc de 512 échantillons</highlight><highlight class="normal"></highlight>
<highlight class="normal">  config.lien non trouvé : [structtsd_1_1fourier_1_1_filtre_f_f_t_config_1a1d606b7442ae048364b6f3ddee03163a]nb_zeros_min         = 0;    </highlight><highlight class="comment">// Zéro-padding non nécessaire</highlight><highlight class="normal"></highlight>
<highlight class="normal">  config.lien non trouvé : [structtsd_1_1fourier_1_1_filtre_f_f_t_config_1abac3e46621762009cade415dbdbef694]avec_fenetrage       = oui;  </highlight><highlight class="comment">// Fenêtre de Hann et recouvrement de 50 %</highlight><highlight class="normal"></highlight>
<highlight class="normal"></highlight>
<highlight class="normal">  soit [ola, N] = <a href="../../../index-func/fourier/filtre_fft/index.html">filtre_fft</a>(config);</highlight>
<highlight class="normal">  soit y = real(ola-&gt;step(x));</highlight>
</code></pre></p><img src="ex-ola-pb.png" style="height: 100%; width: 100%; object-fit: contain"></img></description></p></p><h2><a name="7"></a>Voir aussi</h2><p>filtre_rif_fft(), filtre_rfft(), <a href="../../../index-func/fourier/ola_complexite/index.html">ola_complexité()</a>, <a href="../../../index-func/fourier/ola_complexite_optimise/index.html">ola_complexité_optimise()</a></p></div></div><div class="clearfix"></div>
        <div class="shadow-main"></div></div><footer><div class="wrapper">
<center><p></p></center></div></footer><script>initialize();</script></body></html>